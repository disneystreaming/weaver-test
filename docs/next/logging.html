<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Logging information · Weaver Test</title><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="generator" content="Docusaurus"/><meta name="description" content="Weaver provides each individual test with a lazy-logger. The log statements only get reported if the test is unsuccessful. Because tests in weaver run in parallel by default, this makes it easier to tie printed information to the test it originated from."/><meta name="docsearch:version" content="next"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Logging information · Weaver Test"/><meta property="og:type" content="website"/><meta property="og:url" content="http(s)://disneystreaming.github.io//weaver-test/"/><meta property="og:description" content="Weaver provides each individual test with a lazy-logger. The log statements only get reported if the test is unsuccessful. Because tests in weaver run in parallel by default, this makes it easier to tie printed information to the test it originated from."/><meta property="og:image" content="http(s)://disneystreaming.github.io//weaver-test/img/undraw_online.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="http(s)://disneystreaming.github.io//weaver-test/img/undraw_tweetstorm.svg"/><link rel="shortcut icon" href="/weaver-test/img/dss-profile-white-transparent.svg"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https: //buttons.github.io/buttons.js"></script><script src="/weaver-test/js/scrollSpy.js"></script><link rel="stylesheet" href="/weaver-test/css/main.css"/><script src="/weaver-test/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/weaver-test/"><img class="logo" src="/weaver-test/img/dss-profile-white-transparent.svg" alt="Weaver Test"/><h2 class="headerTitleWithLogo">Weaver Test</h2></a><a href="/weaver-test/versions"><h3>next</h3></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/weaver-test/docs/next/installation" target="_self">Docs</a></li><li class=""><a href="https://github.com/disneystreaming/weaver-test" target="_blank">GitHub</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Features</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Overview</h3><ul class=""><li class="navListItem"><a class="navItem" href="/weaver-test/docs/next/installation">Installation</a></li><li class="navListItem"><a class="navItem" href="/weaver-test/docs/next/motivation">Motivation</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Effect types</h3><ul class=""><li class="navListItem"><a class="navItem" href="/weaver-test/docs/next/cats">Cats-effect usage</a></li><li class="navListItem"><a class="navItem" href="/weaver-test/docs/next/other_effects">Other effects</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Features</h3><ul class=""><li class="navListItem"><a class="navItem" href="/weaver-test/docs/next/expectations">Expectations (assertions)</a></li><li class="navListItem"><a class="navItem" href="/weaver-test/docs/next/resources">Sharing resources</a></li><li class="navListItem"><a class="navItem" href="/weaver-test/docs/next/global_resources">Sharing resources across suites</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/weaver-test/docs/next/logging">Logging information</a></li><li class="navListItem"><a class="navItem" href="/weaver-test/docs/next/tagging">Tagging</a></li><li class="navListItem"><a class="navItem" href="/weaver-test/docs/next/scalacheck">ScalaCheck integration</a></li><li class="navListItem"><a class="navItem" href="/weaver-test/docs/next/discipline">Discipline integration</a></li><li class="navListItem"><a class="navItem" href="/weaver-test/docs/next/parallelism">Configuring parallelism</a></li><li class="navListItem"><a class="navItem" href="/weaver-test/docs/next/funsuite">Pure tests</a></li><li class="navListItem"><a class="navItem" href="/weaver-test/docs/next/filtering">Filtering tests</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Sample reports</h3><ul class=""><li class="navListItem"><a class="navItem" href="/weaver-test/docs/next/multiple_suites_success">Successes</a></li><li class="navListItem"><a class="navItem" href="/weaver-test/docs/next/multiple_suites_failures">Failures</a></li><li class="navListItem"><a class="navItem" href="/weaver-test/docs/next/multiple_suites_logging">Logging</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">IDE integrations</h3><ul class=""><li class="navListItem"><a class="navItem" href="/weaver-test/docs/next/intellij">IntelliJ integration</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">Logging information</h1></header><article><div><span><p>Weaver provides each individual test with a lazy-logger. The log statements only get reported if the test is unsuccessful. Because tests in weaver run in parallel by default, this makes it easier to tie printed information to the test it originated from.</p>
<pre><code class="hljs css language-scala"><span class="hljs-keyword">import</span> weaver._
<span class="hljs-keyword">import</span> cats.effect._

<span class="hljs-class"><span class="hljs-keyword">object</span> <span class="hljs-title">LoggedTests</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">IOSuite</span> </span>{

  <span class="hljs-comment">// Only the logger is received as an argument</span>
  loggedTest(<span class="hljs-string">"Just logging some stuff"</span>) { log =&gt;
    <span class="hljs-keyword">for</span> {
      _ &lt;- log.info(<span class="hljs-string">"oopsie daisy"</span>)
    } <span class="hljs-keyword">yield</span> expect(<span class="hljs-number">2</span> + <span class="hljs-number">2</span> == <span class="hljs-number">5</span>)
  }


  <span class="hljs-comment">// We can obviously have tests receive loggers AND shared resources</span>
  <span class="hljs-keyword">override</span> <span class="hljs-class"><span class="hljs-keyword">type</span> <span class="hljs-title">Res</span> </span>= <span class="hljs-type">String</span>
  <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">sharedResource</span> </span>: <span class="hljs-type">Resource</span>[<span class="hljs-type">IO</span>, <span class="hljs-type">Res</span>] =
    <span class="hljs-type">Resource</span>.pure[<span class="hljs-type">IO</span>, <span class="hljs-type">Res</span>](<span class="hljs-string">"hello"</span>)

  <span class="hljs-comment">// Both the logger and the resource are received as arguments</span>
  test(<span class="hljs-string">"Good requests lead to good results"</span>) { (sharedString, log) =&gt;
    <span class="hljs-keyword">for</span> {
      _ &lt;- log.info(sharedString)
    } <span class="hljs-keyword">yield</span> expect(<span class="hljs-number">2</span> + <span class="hljs-number">2</span> == <span class="hljs-number">4</span>)
  }

}
</code></pre>
<div class='terminal'><pre><code class = 'nohighlight'>
<span style='color: cyan'>repl.MdocSessionMdocAppLoggedTests</span>
<span style='color: green'>+&nbsp;</span>Good&nbsp;requests&nbsp;lead&nbsp;to&nbsp;good&nbsp;results&nbsp;<span style='color: lightgray'><b>48ms</span></b>
<span style='color: red'>-&nbsp;</span>Just&nbsp;logging&nbsp;some&nbsp;stuff&nbsp;<span style='color: lightgray'><b>9ms</span></b>
<p><span style='color: red'>*************</span>FAILURES<span style='color: red'>*************</span>
<span style='color: cyan'>repl.MdocSessionMdocAppLoggedTests</span>
<span style='color: red'>- </span>Just logging some stuff <span style='color: lightgray'><b>9ms</span></b><br /><span style='color: red'>  assertion failed (logging.md:20)<br /><br />  } yield expect(2 + 2 == 5)</span><br /><br />    [INFO] 16:39:25 [logging.md:19] oopsie daisy</p>
<p>Total 2, Failed 1, Passed 1, Ignored 0, Cancelled 0
</code></pre></div></p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/weaver-test/docs/next/global_resources"><span class="arrow-prev">← </span><span>Sharing resources across suites</span></a><a class="docs-next button" href="/weaver-test/docs/next/tagging"><span>Tagging</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/weaver-test/" class="nav-home"></a><div><h5>Community</h5><a href="https://twitter.com/disneystreaming" target="_blank" rel="noreferrer noopener">Twitter</a></div><div><h5>More</h5><a href="https://github.com/disneystreaming/weaver-test">GitHub</a><a class="github-button" href="https://github.com/disneystreaming/weaver-test" data-icon="octicon-star" data-count-href="/facebook/docusaurus/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a><div class="social"><a href="https://twitter.com/disneystreaming" class="twitter-follow-button">Follow @disneystreaming</a></div></div></section><a href="https://github.com/disneystreaming" target="_blank" rel="noreferrer noopener" class="dssOpenSource"><img src="/weaver-test/img/dss-white-transparent.svg" alt="Disney Streaming Services Open Source" width="204" height="54"/></a><section class="copyright">Copyright © 2023 Disney Streaming Services</section></footer></div><script>window.twttr=(function(d,s, id){var js,fjs=d.getElementsByTagName(s)[0],t=window.twttr||{};if(d.getElementById(id))return t;js=d.createElement(s);js.id=id;js.src='https://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js, fjs);t._e = [];t.ready = function(f) {t._e.push(f);};return t;}(document, 'script', 'twitter-wjs'));</script></body></html>